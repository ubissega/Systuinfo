<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">    
    <title>Firebase Authentication Example</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://ubissega.github.io/Systuinfo/estilo/css.css" rel="stylesheet" />
    
    <!-- Use a versão 8 do Firebase SDK para evitar problemas com módulos ESM -->
    <script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <!-- Adicione aqui as configurações do seu projeto Firebase -->
    <script defer src="js/firebase.js"></script>

    <style>
        .bg-login{
            background: url('https://i.imgur.com/ANgNh5H.png') no-repeat fixed;
            background-size: cover;
        }
    </style>
    
</head>
<body class="bg-login container">
	<nav class=" nav-body">
		<div class="d-flex justify-content-between b-b w-100">
			<h1 class="bg-t-h1 text-uppercase t-s">systuinfo</h1>
		   	<div class="dropdown">
		   		<button class="btn btn-secondary active" type="button" id="dropdownMenuButton2" data-bs-toggle="dropdown" aria-expanded="false">Iniciar sessao</button>
				<ul class="dropdown-menu dropdown-menu-dark w-100" aria-labelledby="dropdownMenuButton2">
				<li><a class="dropdown-item" href="index.html">Pagina inicial</a></li>
				<li><a class="dropdown-item" href="registar_usuario.html">Inscrição</a></li>
				<li><hr class="dropdown-divider"></li>
				<li><a class="dropdown-item" href="#">Manual de uso</a></li>
				</ul>
			</div>


		</div>
	</nav>
	<div class="login-body">
	    <div class="login-container">
	        <div class="login-form">
	            <div class="form-group">
	                <label >Email:</label>
	                <input type="email" id="email" required>
	            </div>
	            <div class="form-group">
	                <label >Senha:</label>
	                <input type="password" id="senha" required>
	            </div>
	            <div class="form-group">
	                <button onclick="fazerLogin()">Entrar</button>
	            </div>
	        </div>
	        <div class="form-group">
	                <button><a href="registar_usuario.html">Criar conta</a></button>
	            </div>
	    </div>
  	<footer class="footer text-uppercase">
  		Todos os direitos reservados copyriht systuinfo . 2024
  	</footer>

    <script>
        // Função para fazer login com e-mail e senha
        function fazerLogin() {
            const email = document.getElementById('email').value;
            const senha = document.getElementById('senha').value;

            // Tentativa de login
            firebase.auth().signInWithEmailAndPassword(email, senha)
                .then(userCredential => {
                    // Usuário autenticado com sucesso
                    const user = userCredential.user;
                    console.log("Usuário autenticado com UID:", user.uid);

                    // Exemplo: redirecionar para outra página após o login
                    window.location.href = "inicial.html";
                })
                .catch(error => {
                    console.error("Erro ao fazer login:", error.message);
                });
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    </body>
</html>
